<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta property="og:title" content="클린한 퍼센트 계산기" />
  <meta property="og:description" content="사용하기 편한 퍼센트 계산기" />
  <meta property="og:url" content="https://747stranger.github.io/cal" />
  <meta property="og:image" content="https://747stranger.github.io/cal/images/thumbnail.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>투자 백분율 계산기</title>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FMZGRC5KDR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-FMZGRC5KDR');
  </script>
</head>

<body>
  <header class="page-header">
    <h1>퍼센트 계산기</h1>
  </header>

  <main class="container">
    <div class="grid">
      <!-- 수익률 계산 -->
      <section class="card">
        <h2>수익률 계산</h2>

        <label for="buyPrice">매수가</label>
        <input type="text" inputmode="decimal" id="buyPrice" placeholder="매수한 가격. 예: 211"
          oninput="formatNumberInput(this)" />

        <label for="sellPrice">매도가</label>
        <input type="text" inputmode="decimal" id="sellPrice" placeholder="매도할 가격. 예: 215"
          oninput="formatNumberInput(this)" />

        <label for="amount">수량</label>
        <input type="text" inputmode="decimal" id="amount" placeholder="예: 10" oninput="formatNumberInput(this)" />

        <button class="btn" onclick="calculateProfit()">수익률(%) 계산</button>
        <div class="result" id="resultProfit" aria-live="polite"></div>
      </section>

      <!-- 증가/감소율 계산 -->
      <section class="card">
        <h2>퍼센트 변화 계산</h2>

        <label for="originalValue">원래 값</label>
        <input type="text" inputmode="decimal" id="originalValue" placeholder="예: 211"
          oninput="formatNumberInput(this)" />

        <label for="changedValue">변경된 값</label>
        <input type="text" inputmode="decimal" id="changedValue" placeholder="예: 215"
          oninput="formatNumberInput(this)" />

        <button class="btn" onclick="calculateChange()">증감 퍼센트 계산</button>
        <div class="result" id="resultChange" aria-live="polite"></div>
      </section>

      <!-- 퍼센트 증감 결과 -->
      <section class="card">
        <h2>퍼센트 증감 결과 계산</h2>

        <label for="baseValue">기준 금액</label>
        <input type="text" inputmode="decimal" id="baseValue" placeholder="예: 211" oninput="formatNumberInput(this)" />

        <div class="inline">
          <div class="field">
            <label for="percentChange">변화 퍼센트 (%)</label>
            <input type="text" inputmode="decimal" id="percentChange" placeholder="예: 3"
              oninput="formatNumberInput(this)" />
          </div>
          <div class="field">
            <label for="changeType">증가/감소</label>
            <select id="changeType">
              <option value="increase">증가</option>
              <option value="decrease">감소</option>
            </select>
          </div>
        </div>

        <button class="btn" onclick="calculateAdjustedAmount()">계산하기</button>
        <div class="result" id="resultAdjustedAmount" aria-live="polite"></div>
      </section>


      <!-- 비중만 보기 -->
      <section class="card">
        <h2>퍼센트에 해당하는 금액만 계산</h2>

        <label for="percentBase">기준 금액 (예: 100달러의)</label>
        <input type="text" id="percentBase" placeholder="예: 100" inputmode="decimal"
          oninput="formatNumberInput(this)" />

        <label for="percentRate">퍼센트 (%) (예: 30%는)</label>
        <input type="text" id="percentRate" placeholder="예: 30" inputmode="decimal" oninput="formatNumberInput(this)" />

        <button class="btn" onclick="calculatePercentValue()">얼마인지 계산하기</button>
        <div class="result" id="percentResult" aria-live="polite"></div>
      </section>


      <!-- 물타기(평단 조정) 계산기 -->
      <section class="card">
        <h2>물타기 계산 (평균 매수 단가<sup>평단</sup> 조정)</h2>

        <label for="dcaCurrentPrice">현재 가격</label>
        <input type="text" id="dcaCurrentPrice" placeholder="예: 125.6500" inputmode="decimal"
          oninput="formatNumberInput(this)" />

        <label for="dcaAvgPrice">현재 평단</label>
        <input type="text" id="dcaAvgPrice" placeholder="예: 188.5900" inputmode="decimal"
          oninput="formatNumberInput(this)" />

        <label for="dcaQty">보유 수량</label>
        <input type="text" id="dcaQty" placeholder="예: 10" inputmode="decimal" oninput="formatNumberInput(this)" />

        <label for="dcaTargetAvg">목표 평단</label>
        <input type="text" id="dcaTargetAvg" placeholder="예: 165.9400" inputmode="decimal"
          oninput="formatNumberInput(this)" />

        <button class="btn" onclick="calculateDCA()">필요 금액/수량 계산</button>
        <div class="result" id="dcaResult" aria-live="polite"></div>
      </section>

      <!-- 환율 변환 계산기 -->
      <section class="card">
        <h2>환율 변환 계산</h2>

<label for="fxRate" id="fxRateLabel">환율 (1달러 = ? 원)</label>
<input type="text" id="fxRate" placeholder="예: 1400"
       inputmode="decimal" oninput="formatNumberInput(this)" />

<label for="fxAmount">금액</label>
<input type="text" id="fxAmount" placeholder="예: 100000"
       inputmode="decimal" oninput="formatNumberInput(this)" />

<label for="fxDirection">변환 방향</label>
<select id="fxDirection" onchange="updateFxLabel()">
  <option value="usdToKrw">달러 → 원</option>
  <option value="krwToUsd">원 → 달러</option>
</select>


        <button class="btn" onclick="calculateFX()">계산하기</button>
        <div class="result" id="fxResult" aria-live="polite"></div>
      </section>


    </div>
  </main>

  <footer class="page-footer">
    <p>© 2025 Chickpea. All rights reserved.</p>
  </footer>
</body>

</html>